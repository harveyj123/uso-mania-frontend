/*!
 * @pixi/canvas-sprite - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/canvas-sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@pixi/constants"),e=require("@pixi/math"),r=require("@pixi/canvas-renderer"),o=require("@pixi/sprite"),i=new e.Matrix,n=function(){function o(t){this.renderer=t}return o.prototype.render=function(o){var n=o._texture,a=this.renderer,s=a.context;if(n.valid){var l=n._frame.width,h=n._frame.height,d=o.transform.worldTransform,u=0,p=0,f=n.baseTexture.getDrawableSource();if(!(n.orig.width<=0||n.orig.height<=0)&&n.valid&&f){a.setBlendMode(o.blendMode,!0),a.context.globalAlpha=o.worldAlpha;var c=n.baseTexture.scaleMode===t.SCALE_MODES.LINEAR;a.smoothProperty&&a.context[a.smoothProperty]!==c&&(s[a.smoothProperty]=c),n.trim?(u=n.trim.width/2+n.trim.x-o.anchor.x*n.orig.width,p=n.trim.height/2+n.trim.y-o.anchor.y*n.orig.height):(u=(.5-o.anchor.x)*n.orig.width,p=(.5-o.anchor.y)*n.orig.height),n.rotate&&(d.copyTo(i),d=i,e.groupD8.matrixAppendRotationInv(d,n.rotate,u,p),u=0,p=0),u-=l/2,p-=h/2,a.setContextTransform(d,o.roundPixels,1),o.roundPixels&&(u|=0,p|=0);var x=n.baseTexture.resolution,M=a._outerBlend;M&&(s.save(),s.beginPath(),s.rect(u*a.resolution,p*a.resolution,l*a.resolution,h*a.resolution),s.clip()),16777215!==o.tint?(o._cachedTint===o.tint&&o._tintedCanvas.tintId===o._texture._updateID||(o._cachedTint=o.tint,o._tintedCanvas=r.canvasUtils.getTintedCanvas(o,o.tint)),s.drawImage(o._tintedCanvas,0,0,Math.floor(l*x),Math.floor(h*x),Math.floor(u*a.resolution),Math.floor(p*a.resolution),Math.floor(l*a.resolution),Math.floor(h*a.resolution))):s.drawImage(f,n._frame.x*x,n._frame.y*x,Math.floor(l*x),Math.floor(h*x),Math.floor(u*a.resolution),Math.floor(p*a.resolution),Math.floor(l*a.resolution),Math.floor(h*a.resolution)),M&&s.restore(),a.setBlendMode(t.BLEND_MODES.NORMAL)}}},o.prototype.destroy=function(){this.renderer=null},o}();o.Sprite.prototype._tintedCanvas=null,o.Sprite.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)},exports.CanvasSpriteRenderer=n;
//# sourceMappingURL=canvas-sprite.min.js.map
